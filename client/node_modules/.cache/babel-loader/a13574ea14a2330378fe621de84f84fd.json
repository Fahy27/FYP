{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\evanf\\\\Downloads\\\\Archive\\\\client\\\\src\\\\components\\\\Exam\\\\CreateQuestion.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer } from 'react';\nimport useStyles from './styles';\nimport { Radio, RadioGroup, FormControlLabel, FormControl, TextField, FormLabel, Button } from '@material-ui/core';\nimport { api } from '../../api/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SET_QUESTION = 'SET_QUESTION';\nconst SET_CORRECT_ANSWER = 'SET_CORRECT_ANSWER';\nconst UPDATE_ANSWER = 'UPDATE_ANSWER';\nconst ADD_ANSWER = 'ADD_ANSWER';\n\nfunction questionReducer(state, action) {\n  switch (action.type) {\n    case SET_QUESTION:\n      {\n        return { ...state,\n          question: action.question\n        };\n      }\n\n    case SET_CORRECT_ANSWER:\n      {\n        return { ...state,\n          correctAnswer: action.correctAnswer\n        };\n      }\n\n    case UPDATE_ANSWER:\n      {\n        let oldState = { ...state\n        };\n        oldState.answers[action.idx] = action.newValue;\n        return oldState;\n      }\n\n    case ADD_ANSWER:\n      {\n        let oldState = { ...state\n        };\n        oldState.answers.push(\"\");\n        return oldState;\n      }\n  }\n}\n\nlet submitted = false;\nexport default function CreateQuestion() {\n  _s();\n\n  const classes = useStyles();\n  const [question, dispatchQuestion] = useReducer(questionReducer, {\n    question: \"\",\n    answers: [\"\", \"\"],\n    correctAnswer: 0\n  });\n\n  function handleQuestionChange(event) {\n    dispatchQuestion({\n      type: SET_QUESTION,\n      question: event.target.value\n    });\n  }\n\n  function handleAnswerChange(event, idx) {\n    dispatchQuestion({\n      type: UPDATE_ANSWER,\n      idx,\n      newValue: event.target.value\n    });\n  }\n\n  function handleRadioChange(event) {\n    dispatchQuestion({\n      type: SET_CORRECT_ANSWER,\n      correctAnswer: parseInt(event.target.value)\n    });\n  }\n\n  function addAnswer() {\n    dispatchQuestion({\n      type: ADD_ANSWER\n    });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!submitted) {\n      try {\n        submitted = true;\n        await api.post(\"/questions/add\", question);\n        alert(\"Question added successfully\");\n      } catch (err) {\n        alert(err);\n        submitted = false;\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.questionInput,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-basic\",\n        label: \"Question\",\n        variant: \"outlined\",\n        value: question.question,\n        onChange: handleQuestionChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n      sx: {\n        m: 3\n      },\n      variant: \"standard\",\n      children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n        \"aria-labelledby\": \"demo-error-radios\",\n        value: question.correctAnswer,\n        onChange: e => {\n          handleRadioChange(e);\n        },\n        children: question.answers.map((answer, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n            value: idx,\n            control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 82\n            }, this),\n            label: /*#__PURE__*/_jsxDEV(TextField, {\n              id: \"outlined-basic\",\n              label: `Answer ${idx + 1}`,\n              variant: \"outlined\",\n              value: answer,\n              onChange: e => handleAnswerChange(e, idx)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 37\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      className: classes.blockBtn,\n      onClick: addAnswer,\n      children: \"Add Answer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      type: \"submit\",\n      className: classes.blockBtn,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateQuestion, \"KzcmCYr8U76x7pT7dMZCqrcVgKY=\", false, function () {\n  return [useStyles];\n});\n\n_c = CreateQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateQuestion\");","map":{"version":3,"names":["React","useEffect","useReducer","useStyles","Radio","RadioGroup","FormControlLabel","FormControl","TextField","FormLabel","Button","api","SET_QUESTION","SET_CORRECT_ANSWER","UPDATE_ANSWER","ADD_ANSWER","questionReducer","state","action","type","question","correctAnswer","oldState","answers","idx","newValue","push","submitted","CreateQuestion","classes","dispatchQuestion","handleQuestionChange","event","target","value","handleAnswerChange","handleRadioChange","parseInt","addAnswer","handleSubmit","e","preventDefault","post","alert","err","questionInput","m","map","answer","blockBtn"],"sources":["C:/Users/evanf/Downloads/Archive/client/src/components/Exam/CreateQuestion.js"],"sourcesContent":["import React, { useEffect, useReducer } from 'react';\nimport useStyles from './styles';\nimport { Radio, RadioGroup, FormControlLabel, FormControl, TextField, FormLabel, Button } from '@material-ui/core'\nimport { api } from '../../api/index'\n\nconst SET_QUESTION = 'SET_QUESTION'\nconst SET_CORRECT_ANSWER = 'SET_CORRECT_ANSWER'\nconst UPDATE_ANSWER = 'UPDATE_ANSWER'\nconst ADD_ANSWER = 'ADD_ANSWER'\n\n\nfunction questionReducer(state, action) {\n    switch(action.type) {\n        case SET_QUESTION: {\n            return {\n                ...state,\n                question: action.question\n            }\n        }\n        case SET_CORRECT_ANSWER: {\n            return {\n                ...state,\n                correctAnswer: action.correctAnswer\n            }\n        }\n        case UPDATE_ANSWER: {\n            let oldState = {...state}\n            oldState.answers[action.idx] = action.newValue\n            return oldState\n        }\n        case ADD_ANSWER: {\n            let oldState = {...state}\n            oldState.answers.push(\"\")\n            return oldState\n        }\n    }\n}\n\nlet submitted = false\n\nexport default function CreateQuestion() {\n    const classes = useStyles();\n    const [question, dispatchQuestion] = useReducer(questionReducer, {question: \"\", answers: [\"\", \"\"], correctAnswer: 0})\n\n    function handleQuestionChange(event) {\n        dispatchQuestion({type: SET_QUESTION, question: event.target.value})\n    }\n    function handleAnswerChange(event, idx) {\n        dispatchQuestion({type: UPDATE_ANSWER, idx, newValue: event.target.value})\n    }\n    function handleRadioChange(event) {\n        dispatchQuestion({type: SET_CORRECT_ANSWER, correctAnswer: parseInt(event.target.value)})\n    }\n    function addAnswer() {\n        dispatchQuestion({type: ADD_ANSWER})\n    }\n\n    async function handleSubmit(e) {\n        e.preventDefault()\n        if(!submitted) {\n            try {\n                submitted = true\n                await api.post(\"/questions/add\", question)\n                alert(\"Question added successfully\")\n            } catch(err) {\n                alert(err)\n                submitted = false\n            }\n        }     \n    }\n    return (\n        <form onSubmit={handleSubmit}>\n            <div className={classes.questionInput}>\n                <TextField id=\"outlined-basic\" label=\"Question\" variant=\"outlined\" value={question.question} onChange={handleQuestionChange}/>\n            </div>\n\n            <FormControl sx={{ m: 3 }} variant=\"standard\" >\n                <RadioGroup\n                    aria-labelledby=\"demo-error-radios\"\n                    value={question.correctAnswer}\n                    onChange={(e) => {handleRadioChange(e)}}\n                >\n                    {question.answers.map((answer, idx) => \n                        (\n                            <div>\n                                <FormControlLabel key={idx} value={idx} control={<Radio />} label={\n                                    <TextField id=\"outlined-basic\" label={`Answer ${idx+1}`} variant=\"outlined\" value={answer} onChange={(e) => handleAnswerChange(e, idx)} />\n                                } />\n                            </div>\n                        )\n                    )}\n                </RadioGroup>\n            </FormControl>\n            <Button variant=\"contained\" className={classes.blockBtn} onClick={addAnswer}>Add Answer</Button>\n            <Button variant=\"contained\" type=\"submit\" className={classes.blockBtn}>Submit</Button>\n            \n        </form>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}